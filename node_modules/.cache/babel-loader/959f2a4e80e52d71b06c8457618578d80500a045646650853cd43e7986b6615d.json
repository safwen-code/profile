{"ast":null,"code":"import _objectSpread from\"C:/Users/nodes/Desktop/reactui/profile/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nodes/Desktop/reactui/profile/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import useEmblaCarousel from'embla-carousel-react';import'./embda.css';import imageByIndex from'./imageByIndex';import{flushSync}from'react-dom';import'./base.css';import{Card}from'@mui/material';import Autoplay from'embla-carousel-autoplay';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TWEEN_FACTOR=1.2;var OPTIONS={dragFree:true,loop:true};var SLIDE_COUNT=13;var SLIDES=Array.from(Array(SLIDE_COUNT).keys());var Carousel=function Carousel(){//const [emblaRef] = useEmblaCarousel({ loop: true }, [Autoplay()])\nvar _useEmblaCarousel=useEmblaCarousel(OPTIONS,[Autoplay()]),_useEmblaCarousel2=_slicedToArray(_useEmblaCarousel,2),emblaRef=_useEmblaCarousel2[0],emblaApi=_useEmblaCarousel2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tweenValues=_useState2[0],setTweenValues=_useState2[1];var onScroll=useCallback(function(){if(!emblaApi)return;var engine=emblaApi.internalEngine();var scrollProgress=emblaApi.scrollProgress();var styles=emblaApi.scrollSnapList().map(function(scrollSnap,index){var diffToTarget=scrollSnap-scrollProgress;if(engine.options.loop){engine.slideLooper.loopPoints.forEach(function(loopItem){var target=loopItem.target();if(index===loopItem.index&&target!==0){var sign=Math.sign(target);if(sign===-1)diffToTarget=scrollSnap-(1+scrollProgress);if(sign===1)diffToTarget=scrollSnap+(1-scrollProgress);}});}return diffToTarget*(-1/TWEEN_FACTOR)*100;});setTweenValues(styles);},[emblaApi,setTweenValues]);useEffect(function(){if(!emblaApi)return;onScroll();emblaApi.on('scroll',function(){flushSync(function(){return onScroll();});});emblaApi.on('reInit',onScroll);},[emblaApi,onScroll]);return/*#__PURE__*/_jsx(\"div\",{className:\"embla\",children:/*#__PURE__*/_jsx(\"div\",{className:\"embla__viewport\",ref:emblaRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"embla__container\",children:SLIDES.map(function(index){return/*#__PURE__*/_jsxs(Card,{className:\"embla__slide\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"embla__slide__number\",children:/*#__PURE__*/_jsx(\"span\",{children:index+1})}),/*#__PURE__*/_jsx(\"div\",{className:\"embla__parallax\",children:/*#__PURE__*/_jsx(\"div\",{className:\"embla__parallax__layer\",style:_objectSpread({},tweenValues.length&&{transform:\"translateX(\".concat(tweenValues[index],\"%)\")}),children:/*#__PURE__*/_jsx(\"img\",{className:\"embla__slide__img embla__parallax__img\",src:imageByIndex(index),alt:\"Your alt text\"})})})]},index);})})})});};export default Carousel;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useEmblaCarousel","imageByIndex","flushSync","Card","Autoplay","jsx","_jsx","jsxs","_jsxs","TWEEN_FACTOR","OPTIONS","dragFree","loop","SLIDE_COUNT","SLIDES","Array","from","keys","Carousel","_useEmblaCarousel","_useEmblaCarousel2","_slicedToArray","emblaRef","emblaApi","_useState","_useState2","tweenValues","setTweenValues","onScroll","engine","internalEngine","scrollProgress","styles","scrollSnapList","map","scrollSnap","index","diffToTarget","options","slideLooper","loopPoints","forEach","loopItem","target","sign","Math","on","className","children","ref","style","_objectSpread","length","transform","concat","src","alt"],"sources":["C:/Users/nodes/Desktop/reactui/profile/src/components/content/Carousel.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\nimport useEmblaCarousel from 'embla-carousel-react'\r\nimport './embda.css'\r\nimport imageByIndex from './imageByIndex'\r\nimport { flushSync } from 'react-dom'\r\nimport './base.css'\r\nimport { Card } from '@mui/material'\r\n\r\nimport Autoplay from 'embla-carousel-autoplay'\r\n\r\nconst TWEEN_FACTOR = 1.2\r\nconst OPTIONS = { dragFree: true, loop: true }\r\nconst SLIDE_COUNT = 13\r\nconst SLIDES = Array.from(Array(SLIDE_COUNT).keys())\r\nconst Carousel = () => {\r\n  //const [emblaRef] = useEmblaCarousel({ loop: true }, [Autoplay()])\r\n  const [emblaRef, emblaApi] = useEmblaCarousel(OPTIONS, [Autoplay()])\r\n  const [tweenValues, setTweenValues] = useState([])\r\n  const onScroll = useCallback(() => {\r\n    if (!emblaApi) return\r\n\r\n    const engine = emblaApi.internalEngine()\r\n    const scrollProgress = emblaApi.scrollProgress()\r\n\r\n    const styles = emblaApi.scrollSnapList().map((scrollSnap, index) => {\r\n      let diffToTarget = scrollSnap - scrollProgress\r\n\r\n      if (engine.options.loop) {\r\n        engine.slideLooper.loopPoints.forEach((loopItem) => {\r\n          const target = loopItem.target()\r\n          if (index === loopItem.index && target !== 0) {\r\n            const sign = Math.sign(target)\r\n            if (sign === -1) diffToTarget = scrollSnap - (1 + scrollProgress)\r\n            if (sign === 1) diffToTarget = scrollSnap + (1 - scrollProgress)\r\n          }\r\n        })\r\n      }\r\n      return diffToTarget * (-1 / TWEEN_FACTOR) * 100\r\n    })\r\n    setTweenValues(styles)\r\n  }, [emblaApi, setTweenValues])\r\n  useEffect(() => {\r\n    if (!emblaApi) return\r\n    onScroll()\r\n    emblaApi.on('scroll', () => {\r\n      flushSync(() => onScroll())\r\n    })\r\n    emblaApi.on('reInit', onScroll)\r\n  }, [emblaApi, onScroll])\r\n\r\n  return (\r\n    <div className=\"embla\">\r\n      <div className=\"embla__viewport\" ref={emblaRef}>\r\n        <div className=\"embla__container\">\r\n          {SLIDES.map((index) => (\r\n            <Card className=\"embla__slide\" key={index}>\r\n              <div className=\"embla__slide__number\">\r\n                <span>{index + 1}</span>\r\n              </div>\r\n              <div className=\"embla__parallax\">\r\n                <div\r\n                  className=\"embla__parallax__layer\"\r\n                  style={{\r\n                    ...(tweenValues.length && {\r\n                      transform: `translateX(${tweenValues[index]}%)`,\r\n                    }),\r\n                  }}\r\n                >\r\n                  <img\r\n                    className=\"embla__slide__img embla__parallax__img\"\r\n                    src={imageByIndex(index)}\r\n                    alt=\"Your alt text\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Carousel\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}